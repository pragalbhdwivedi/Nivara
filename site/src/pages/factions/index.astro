---
import BaseLayout from "../../layouts/BaseLayout.astro";
import CanonMarkdown from "../../components/CanonMarkdown.astro";
import { getCollection } from "astro:content";

const pages = await getCollection("nivara_pages");
const factionsDoc = pages.find((page) => page.id === "04_FACTIONS");

if (!factionsDoc) {
  throw new Error("Missing factions markdown.");
}

const { Content } = await factionsDoc.render();
---

<BaseLayout title="Nivara | Factions">
  <section>
    <h1>Factions</h1>
  </section>

  <CanonMarkdown>
    <Content />
  </CanonMarkdown>
</BaseLayout>
